<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PreGame - Smart Injury Prevention</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="app-container">
        <header>
            <h1>PreGame <span class="badge">BETA</span></h1>
            <p>Answer 4 questions to generate your safety plan.</p>
        </header>

        <div id="quiz-section" class="quiz-section">
            
            <div class="form-group">
                <label>1. What sport are you playing?</label>
                <select id="sport-select" onchange="hideError()">
                    <option value="" disabled selected>Choose a Sport...</option>
                    <option value="soccer">Soccer</option>
                    <option value="tennis">Tennis</option>
                    <option value="running">Running</option>
                    <option value="basketball">Basketball</option>
                </select>
            </div>

            <div class="form-group">
                <label>2. Any previous injuries?</label>
                <select id="q-injury">
                    <option value="0">No, I'm healthy</option>
                    <option value="30">Minor injury recently</option>
                    <option value="50">Major surgery / Chronic pain</option>
                </select>
            </div>

            <div class="form-group">
                <label>3. How often do you train?</label>
                <select id="q-freq">
                    <option value="10">1-2 times a week</option>
                    <option value="20">3-4 times a week</option>
                    <option value="40">Every day (High Load)</option>
                </select>
            </div>

            <div class="form-group">
                <label>4. Do you warm up properly?</label>
                <select id="q-warmup">
                    <option value="30">No, never</option>
                    <option value="10">Sometimes</option>
                    <option value="0">Yes, always</option>
                </select>
            </div>

            <div id="error-box" class="error-msg hidden">
                ‚ö†Ô∏è Please select a sport first!
            </div>

            <button onclick="generatePlan()" class="analyze-btn">‚ö° Generate Plan & Risk Score</button>
        </div>

        <div id="dashboard" class="hidden fade-in">
            
            <div class="card visual-card">
                <h3>Risk Heat Map</h3>
                <div class="image-container">
                    <img id="body-image" src="body-default.png" alt="Body Heat Map">
                </div>
                <p class="caption">Focus Area: <span id="focus-area" class="highlight">---</span></p>
            </div>

            <div class="card routine-card">
                <div class="card-header">
                    <h3>Pre-Game Activation</h3>
                    <button onclick="speakRoutine()" class="voice-btn">üîä Read Overview</button>
                </div>
                
                <button onclick="startGuidedWorkout()" class="start-btn">‚ñ∂ Start Guided Session</button>

                <p class="subtitle">Complete these to reduce injury risk.</p>
                <ul id="exercise-list"></ul>
            </div>
        </div>

        <div id="risk-result-bar" class="risk-bar hidden fade-in">
            <p>Your Estimated Injury Risk:</p>
            <div class="progress-bg">
                <div id="risk-fill" class="progress-fill" style="width: 0%"></div>
            </div>
            <h2 id="risk-percent-text">0%</h2>
        </div>

        <footer>
            <p>Informal medical advice.</p>
        </footer>
    </div>

    <div id="workout-overlay" class="overlay hidden">
        <div class="overlay-content">
            <h2 id="wo-step-title">Exercise 1/3</h2>
            
            <div id="timer-container" class="timer-circle">
                <span id="wo-timer">30</span>
            </div>

            <h1 id="wo-exercise-name">Ready?</h1>
            <p id="wo-instruction">Get in position...</p>
            
            <div id="overlay-controls" class="overlay-controls">
                <button onclick="quitWorkout()" class="secondary-btn">Quit</button>
                <button onclick="togglePause()" id="pause-btn" class="secondary-btn" style="border-color: #f1c40f; color: #f1c40f;">Pause</button>
                <button onclick="nextExercise(true)" class="primary-btn">Next ‚ûî</button>
            </div>

            <button id="finish-btn" onclick="quitWorkout()" class="primary-btn hidden" style="background-color: #2ecc71; margin-top: 20px;">Done! Return to Dashboard</button>

        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
